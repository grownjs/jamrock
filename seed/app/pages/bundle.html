<script>
  import { session } from 'jamrock/store';
  import { ref } from 'jamrock/conn';

  import Counter from './counter';

  const counter = session(ref('counters'), 0);
  let count = counter;

  export let value = count;

  $: count = parseFloat(value);
</script>

<component src="../client/example">
  IT JUST WORKS? OH MY!!
  <span slot="foo">OS<sub>O</sub>MS</span>
</component>

<form @patch>
  <input autofocus type="number" bind:value min="0" />
  <br />
  <b>{typeof count}: {count}</b>
  <noscript>
    <button hidden>Save</button>
  </noscript>
</form>

<div>
  {#each count}
    <Counter />
  {/each}
</div>
